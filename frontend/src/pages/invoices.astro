---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import DataTable from '../components/DataTable/DataTable.jsx';

const tableInfo = {
  headers: [
    {
      key: 'select',
      label: 'Select',
      headerAlign: 'center',
      columnAlign: 'center',
    },
    {
      key: 'invoice_number',
      label: 'Invoice #',
      headerAlign: 'left',
      columnAlign: 'left',
    },
    {
      key: 'cf_customer_name',
      label: 'Customer Name',
      headerAlign: 'left',
      columnAlign: 'left',
    },
    {
      key: 'status',
      label: 'Status',
      headerAlign: 'center',
      columnAlign: 'center',
    },
    {
      key: 'due_date',
      label: 'Due Date',
      headerAlign: 'center',
      columnAlign: 'center',
    },
    {
      key: 'total',
      label: 'Invoice Amt',
      headerAlign: 'right',
      columnAlign: 'right',
    },
    {
      key: 'balance',
      label: 'Balance',
      headerAlign: 'left',
      columnAlign: 'left',
    },
    {
      key: 'reference_number',
      label: 'Details',
      headerAlign: 'left',
      columnAlign: 'left',
    },
  ],
  highlightFields: ['invoice_number'],
  apiUrl: 'http://localhost:4321/api/getZohoInvoices',
  isSelectable: true,
  hasActions: true,
  dateFormat: 'MMM d, yyyy',
  dateFields: ['due_date'],
  highlightedFields: ['invoice_number'],
  financialFields: ['total', 'balance'],
  actionMenuItems: [
    {
      item: 'Delete',
      url: 'http://www.yahoo.com',
      warningMessage: 'Are you sure you want to delete this invoice?',
    },
  ],
};
---

<Layout>
  <div class='px-6 py-4'>
    <PageHeader>Header</PageHeader>
    <h1 class='text-3xl font-bold mb-2'>Invoices</h1>
  </div>
  <DataTable client:load tableInfo={tableInfo} />
</Layout>
